{"version":3,"sources":["webpack:///./src/views/login.vue?69cd","webpack:///./src/views/login.vue?f652","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2e0e","webpack:///./src/views/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","loginUser","rules","model","value","callback","$$v","$set","expression","on","$event","submitForm","_v","staticRenderFns","component"],"mappings":"yGAAA,yBAAoe,EAAG,G,kECAve,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,UAAU,CAACE,YAAY,kBAAkB,CAACN,EAAIO,GAAG,GAAGH,EAAG,UAAU,CAACI,IAAI,YAAYF,YAAY,YAAYG,MAAM,CAAC,MAAQT,EAAIU,UAAU,MAAQV,EAAIW,MAAM,cAAc,SAAS,CAACP,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,SAASG,MAAM,CAACC,MAAOb,EAAIU,UAAe,MAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,UAAW,QAASK,IAAME,WAAW,sBAAsB,GAAGb,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,QAAQ,KAAO,YAAYG,MAAM,CAACC,MAAOb,EAAIU,UAAkB,SAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,UAAW,WAAYK,IAAME,WAAW,yBAAyB,GAAGb,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,aAAaG,MAAM,CAAC,KAAO,WAAWS,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,WAAW,gBAAgB,CAACpB,EAAIqB,GAAG,UAAU,GAAGjB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACJ,EAAIqB,GAAG,YAAYjB,EAAG,cAAc,CAACK,MAAM,CAAC,GAAK,cAAc,CAACT,EAAIqB,GAAG,SAAS,MAAM,IAAI,MACzlCC,EAAkB,CAAC,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIqB,GAAG,kB,uDC2BvL,GACE,KAAF,QACE,KAFF,WAGI,MAAJ,CACM,UAAN,CACQ,MAAR,GACQ,SAAR,IAEM,MAAN,CACQ,MAAR,CACA,CACU,KAAV,QACU,UAAV,EACU,QAAV,UACU,QAAV,WAGQ,SAAR,CACA,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,IAAV,EAAU,IAAV,GAAU,QAAV,iBAAU,QAAV,YAKE,QAAF,CACI,WADJ,SACA,GAAM,IAAN,OACM,KAAN,+BACQ,IAAR,EAkBU,OADA,QAAV,uBACA,EAjBU,EAAV,yDAAY,IAEZ,UACY,aAAZ,mBAGY,IAAZ,SAGY,EAAZ,oDACY,EAAZ,6BAGY,EAAZ,6BAQI,QAzBJ,SAyBA,GACM,YACN,OACA,UACA,yDACA,4CClF+U,I,wBCQ3UE,EAAY,eACd,EACAxB,EACAuB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"assets/js/login.492a07b8.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=1ef9b118&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=1ef9b118&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('section',{staticClass:\"form_container\"},[_vm._m(0),_c('el-form',{ref:\"loginForm\",staticClass:\"loginForm\",attrs:{\"model\":_vm.loginUser,\"rules\":_vm.rules,\"label-width\":\"60px\"}},[_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.loginUser.email),callback:function ($$v) {_vm.$set(_vm.loginUser, \"email\", $$v)},expression:\"loginUser.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\"},model:{value:(_vm.loginUser.password),callback:function ($$v) {_vm.$set(_vm.loginUser, \"password\", $$v)},expression:\"loginUser.password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"submit_btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginForm')}}},[_vm._v(\"登 录\")])],1),_c('div',{staticClass:\"tiparea\"},[_c('p',[_vm._v(\"还没有账号？现在\"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"注册\")])],1)])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manage_tip\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"后台管理系统登录\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"login\">\n        <section class=\"form_container\">\n            <div class=\"manage_tip\">\n                <span class=\"title\">后台管理系统登录</span>\n            </div>\n            <el-form :model=\"loginUser\" :rules=\"rules\" ref=\"loginForm\" class=\"loginForm\" label-width=\"60px\">\n                <el-form-item label=\"邮箱\" prop=\"email\">\n                    <el-input v-model=\"loginUser.email\" placeholder=\"请输入邮箱\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"密码\" prop=\"password\">\n                    <el-input v-model=\"loginUser.password\" placeholder=\"请输入密码\" type=\"password\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitForm('loginForm')\" class=\"submit_btn\">登 录</el-button>\n                </el-form-item>\n                <div class=\"tiparea\">\n                    <p>还没有账号？现在<router-link to='/register'>注册</router-link>\n                    </p>\n                </div>\n            </el-form>\n        </section>\n    </div>\n</template>\n\n<script>\nimport jwt_decode from \"jwt-decode\";\n\nexport default {\n    name: \"login\",\n    data() {\n        return {\n            loginUser: {\n                email: \"\",\n                password: \"\"\n            },\n            rules: {\n                email: [\n                    {\n                        type: \"email\",\n                        required: true,\n                        message: \"邮箱格式不正确\",\n                        trigger: \"change\"\n                    }\n                ],\n                password: [\n                    { required: true, message: \"密码不能为空\", trigger: \"blur\" },\n                    { min: 6, max: 30, message: \"长度在 6 到 30 个字符\", trigger: \"blur\" }\n                ]\n            }\n        };\n    },\n    methods: {\n        submitForm(formName) {\n            this.$refs[formName].validate(valid => {\n                if (valid) {\n                    this.$axios.post(\"/user/login\", this.loginUser).then(res => {\n                        // 登录成功\n                        const { token } = res;\n                        localStorage.setItem(\"token\", token);\n\n                        // 解析token\n                        const decode = jwt_decode(token);\n\n                        // 存储数据\n                        this.$store.dispatch(\"setIsAutnenticated\", !this.isEmpty(decode));\n                        this.$store.dispatch(\"setUser\", decode);\n\n                        // 页面跳转\n                        this.$router.push(\"/home\");\n                    });\n                } else {\n                    console.log(\"error submit!!\");\n                    return false;\n                }\n            });\n        },\n        isEmpty(value) {\n            return (\n                value === undefined ||\n                value === null ||\n                (typeof value === \"object\" && Object.keys(value).length === 0) ||\n                (typeof value === \"string\" && value.trim().length === 0)\n            );\n        }\n    }\n};\n</script>\n\n<style scoped>\n.login {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background: url(../assets/bg.jpg) no-repeat center center;\n    background-size: 100% 100%;\n}\n.form_container {\n    width: 370px;\n    height: 210px;\n    position: absolute;\n    top: 20%;\n    left: 34%;\n    padding: 25px;\n    border-radius: 5px;\n    text-align: center;\n}\n.form_container .manage_tip .title {\n    font-family: \"Microsoft YaHei\";\n    font-weight: bold;\n    font-size: 26px;\n    color: #fff;\n}\n.loginForm {\n    margin-top: 20px;\n    background-color: #fff;\n    padding: 20px 40px 20px 20px;\n    border-radius: 5px;\n    box-shadow: 0px 5px 10px #cccc;\n}\n\n.submit_btn {\n    width: 100%;\n}\n.tiparea {\n    text-align: right;\n    font-size: 12px;\n    color: #333;\n}\n.tiparea p a {\n    color: #409eff;\n}\n</style>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=1ef9b118&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=1ef9b118&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ef9b118\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}